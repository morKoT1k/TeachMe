{% extends 'base.html' %}
{% block title %}Konfigurace Odevzdání{% endblock %}

{% block content %}
<div class="button-group">
    <a href="{{ url_for('main.assignments') }}" class=" btn btn-primary">Zpět na Všechny Úkoly</a>
</div>
<div class='student_submission_container'>
    <h1>Konfigurace Odevzdání</h1>
    <form method="POST">
        {{ form.csrf_token }}
        <div class="form-group">
            {{ form.notes.label }}
            {{ form.notes(class="form-control", placeholder="Sem vložte své poznámky") }}
            {% if form.notes.errors %}
                <ul class="errors">
                    {% for error in form.notes.errors %}
                        <li>{{ error }}</li>
                    {% endfor %}
                </ul>
            {% endif %}
        </div>

        <div class="form-group">
            {{ form.file.label }}
            {{ form.file(class="form-control-file") }}
            {% if submission.document_link %}
                <p>Nahráno Dokument: <a href="{{ submission.document_link }}" target="_blank">
                    {% if submission.document_link.endswith('.pdf') %}
                        <i class="fas fa-file-pdf"></i>
                    {% elif submission.document_link.endswith('.doc') or submission.document_link.endswith('.docx') %}
                        <i class="fas fa-file-word"></i>
                    {% elif submission.document_link.endswith('.xls') or submission.document_link.endswith('.xlsx') %}
                        <i class="fas fa-file-excel"></i>
                    {% elif submission.document_link.endswith('.ppt') or submission.document_link.endswith('.pptx') %}
                        <i class="fas fa-file-powerpoint"></i>
                    {% else %}
                        <i class="fas fa-file"></i>
                    {% endif %}
                    {{ submission.document_link.split('/')[-1] }}</a>
                </p>
            {% endif %}
            {% if form.file.errors %}
                <ul class="errors">
                    {% for error in form.file.errors %}
                        <li>{{ error }}</li>
                    {% endfor %}
                </ul>
            {% endif %}
        </div>

        <button type="submit" class="btn btn-primary">Aktualizovat</button>
    </form>
</div>
{% endblock %}
